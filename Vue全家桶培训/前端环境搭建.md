# Vue全家桶培训
## 概述
本次培训基于Vue2.x版本，具体环境如下：
+ Vue 2.6.10
+ Vue CLI 4.0
+ Element UI 2.12.0
+ NodeJS 13.3
+ Yarn 1.21.1
+ Visio Studio Code latest
## 前端环境搭建
**刷新认知**：不要以为前端就是引js和css到htm就完事

### 什么是Yarn/NPM
Yarn和NPM都是JavaScprit的包管理工具，可以安装、共享、分发代码，管理项目依赖关系，其实就是前端的Maven。
### 为什么前端要用依赖管理工具
举个例子：
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script src="jquery1.8.js"></script>
<script src="bootstrap4.js"></script>
<script src="layui1.2.js"></script>
<script src="vue2.6.js"></script>
</html>
```
如果项目需要引入相关的js库才能运行，并且需要指定版本，以前的做法就是去各大js框架的官网去下载对应版本的js库到项目里面，这样做很麻烦，而且一旦本版要升级，所有引用这个js库的页面都要手动改，很容易发生错误。如果有一个统一管理js依赖的工具，效率会提高非常多。
### Yarn和NPM的选择
网上都说NPM不好，有一定几率出现包导不全的问题，而且NPM下载依赖是一个个下的，Yarn是可以多个同时下，Yarn速度快。迫于竞争压力，其实NPM在6版本以上做了很大的优化，现在其实差别不是很大了。不过我还是选Yarn了^_^
### Yarn的安装
1. 安装NodeJS，官网http://nodejs.cn/
安装成功后命令行输入下面命令可以看到NodeJS和NPM的版本
```cmd
node -v
> v13.3.0

npm -v
> 6.13.1
```
2. 使用NodeJS里面的NPM来安装Yarn，总是有种违和感
```cmd
npm install -g yarn
```
安装成功之后输入命令查看Yarn版本
```cmd
yarn -v
> 1.21.1
```
3. 配环境变量
因为有些框架自带命令行的，比如Vue CLI，如果用Yarn安装那些框架不配环境变量会出现命令找不到的问题。
先查看Yarn全局安装目录
```cmd
yarn global dir
> C:\Users\86159\AppData\Local\Yarn\Data\global
```
然后将**C:\Users\86159\AppData\Local\Yarn\Data\global\node_moudles\\.bin**目录添加到PATH中。 

**注意：如果是linux系统有不一样的方式，那就用官网上的方式安装，这里不讲，看官网https://yarn.bootcss.com/docs/install/#centos-stable**
### 镜像加速
查询当前配置的镜像
```cmd
yarn config get registry
> https://registry.yarnpkg.com
```
设置成淘宝镜像
```cmd
yarn config set registry http://registry.npm.taobao.org/
```
### Yarn常用命令
1. 项目初始化
```cmd
yarn init
```
会提示输入
+ name：项目名
+ version：版本号
+ description：描述
+ entry point：应用入口，NodeJS项目用的，不用管
+ repository ：仓库路径，NodeJS项目用的，不用管
+ author：作者
+ license：许可类型，随便
+ private：是否私有项目，true或者false
完成后项目会多一个package.json的文件，用来记录项目信息已经依赖关系等
![输入图片说明](https://images.gitee.com/uploads/images/2019/1222/223033_53209a4c_5449551.png "屏幕截图.png")

```json
{
  "name": "training1-1",
  "version": "1.0.0",
  "description": "培训用的1",
  "main": "index.js",
  "author": "pjh",
  "license": "MIT",
  "private": false
}
```
### 安装模块
+ 本地安装
将js库安装在当前项目的node_modules目录下
```cmd
yarn add <module-name>[@版本号]
```
+ 全局安装
将js库安装在全局目录下
```cmd
yarn global add <module-name>[@版本号]
```
实践一下，安装个jquery玩一玩
```cmd
yarn add jquery[@2.2.0]
```
项目目录会变成这样
![输入图片说明](https://images.gitee.com/uploads/images/2019/1222/224529_08a8cfe9_5449551.png "屏幕截图.png")
package.json会多一段代码
```json
"dependencies": {
  "jquery": "^3.4.1"
}
```
yarn.lock文件就是用来锁定依赖的js库版本的，确保项目在任何地方运行都拥有相同的依赖。
```json
# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1


jquery@^3.4.1:
  version "3.4.1"
  resolved "https://registry.npm.taobao.org/jquery/download/jquery-3.4.1.tgz#714f1f8d9dde4bdfa55764ba37ef214630d80ef2"
  integrity sha1-cU8fjZ3eS9+lV2S6N+8hRjDYDvI=
```
引用这个jquery可以这样
```html
<script src="./node_modules/jquery/dist/jquery.js"></script>
```
### 开发环境依赖和生产环境依赖
+ 生产环境依赖
指package.json的dependencies里面的内容，该依赖在开发环境和生产环境都会起作用。
```cmd
yarn add <module-name>
```
+ 开发环境依赖
指package.json的devDependencies里面的内容，该依赖在开发环境中才起作用，生产环境中不起作用。
```cmd
yarn add <module-name> --dev
```
### 修改全局安装目录和缓存目录
全局安装目录
```cmd
yarn config  set global-folder "D:\Software\yarn\global"
```
缓存目录
```cmd
yarn config set cache-folder "D:\Software\yarn\cache"
```
### 删除模块
本地删除
```cmd
yarn remove <module-name>
```
全局删除
```cmd
yarn global remove <module-name>
```
### 自动下载项目依赖
一般node_modules和yarn.lock这些文件是不会上次到github等代码托管平台的，我们在代码托管平台下载的项目需要先下载对应依赖才能运行。
```cmd
yarn
```
### 查看依赖信息
+ 查看项目所有依赖
```cmd
yarn list
```
+ 查看某个依赖的版本
```cmd
yarn list <module-name>
```
**还有一些命令平时比较少用，想了解的可以去看看yarn的官网文档
https://yarn.bootcss.com/docs/**